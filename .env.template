# Environment Configuration Template
# Copy this file to .env and update the values for your deployment
# External Review Repository - Production Hardening

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Node.js Environment
NODE_ENV=production

# API Configuration
API_SECRET=your-super-secure-api-secret-here-change-this
API_PORT=8000
API_CORS_ORIGIN=http://localhost:3000

# Frontend Configuration  
VITE_API_URL=http://localhost:8000
VITE_ENV=production
VITE_APP_NAME=InstallSure
VITE_APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL (Optional - for future use)
POSTGRES_DB=installsure
POSTGRES_USER=installsure
POSTGRES_PASSWORD=secure-postgres-password-change-this
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================

# Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain
UPLOAD_DIR=./uploads
UPLOAD_TEMP_DIR=./temp

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# JWT Configuration
JWT_SECRET=your-jwt-secret-minimum-32-characters-long-change-this
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_DIR=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14d

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@installsure.com

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# Metrics Collection
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose Overrides
COMPOSE_PROJECT_NAME=external-review
COMPOSE_HTTP_TIMEOUT=120

# Container Resource Limits
MEMORY_LIMIT=512m
CPU_LIMIT=1.0

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development Mode (set to false in production)
DEBUG_MODE=false
DEV_TOOLS_ENABLED=false
HOT_RELOAD_ENABLED=false

# Development Ports (only used in development)
DEV_FRONTEND_PORT=3000
DEV_BACKEND_PORT=8000
DEV_DEMO_PORT=3001

# =============================================================================
# BACKUP CONFIGURATION (Optional)
# =============================================================================

# Backup Settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1

# =============================================================================
# SSL/TLS CONFIGURATION (Production)
# =============================================================================

# SSL Configuration
SSL_ENABLED=false
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
SSL_CA_PATH=./ssl/ca.pem

# Let's Encrypt (if using)
LETSENCRYPT_ENABLED=false
LETSENCRYPT_EMAIL=admin@yourdomain.com
LETSENCRYPT_DOMAIN=yourdomain.com

# =============================================================================
# THIRD-PARTY INTEGRATIONS (Optional)
# =============================================================================

# Analytics
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# Payment Processing (if needed)
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
FEATURE_ADVANCED_UPLOAD=true
FEATURE_REAL_TIME_SYNC=true
FEATURE_OFFLINE_MODE=false
FEATURE_DARK_MODE=true
FEATURE_NOTIFICATIONS=true

# =============================================================================
# DEPLOYMENT SETTINGS
# =============================================================================

# Deployment Configuration
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_BUILD_DATE=
DEPLOYMENT_COMMIT_SHA=

# Auto-scaling (if using orchestration)
MIN_REPLICAS=1
MAX_REPLICAS=5
TARGET_CPU_UTILIZATION=70

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline'"
CSP_STYLE_SRC="'self' 'unsafe-inline'"
CSP_IMG_SRC="'self' data: https:"

# Additional Security Headers
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin